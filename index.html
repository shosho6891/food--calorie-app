<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Food Calorie App</title>
  <link rel="manifest" href="manifest.json">
  <style>
    body { font-family: Arial; padding: 16px; background:#f5f5f5 }
    h1 { text-align:center }
    button, select { width:100%; padding:12px; margin:8px 0; font-size:16px }
    .card { background:white; padding:15px; border-radius:10px; margin-top:10px }
    .tabs button { width:50% }
    label { font-weight:bold; display:block; margin-top:10px }
  </style>
</head>
<body>

<h1>üçΩÔ∏è T√≠nh Calo</h1>

<div class="tabs">
  <button onclick="showTab('fast')">üçî Fast Food</button>
  <button onclick="showTab('viet')">üçú M√≥n Vi·ªát</button>
</div>

<!-- FAST FOOD -->
<div id="fast" class="card">
  <label>Ch·ªçn m√≥n</label>
  <select id="fastFood">
    <option value="295">üçü Khoai t√¢y chi√™n</option>
    <option value="250">üçî Burger</option>
    <option value="300">üçï Pizza</option>
    <option value="200">üçó G√† r√°n</option>
  </select>
  <button onclick="calcFast()">Xem Calo</button>
</div>

<!-- VIET FOOD -->
<div id="viet" class="card" style="display:none">

  <label>Nh√≥m m√≥n</label>
  <select id="vietGroup" onchange="loadVietFood()">
    <option value="main">üçú M√≥n ch√≠nh</option>
    <option value="veg">ü•¶ Rau ‚Äì c·ªß ‚Äì qu·∫£</option>
    <option value="seed">üå∞ H·∫°t ‚Äì l√†nh m·∫°nh</option>
  </select>

  <label>Ch·ªçn m√≥n</label>
  <select id="vietFood"></select>

  <label>Ch·ªçn kh·∫©u ph·∫ßn</label>
  <select id="portion">
    <option value="it">√çt</option>
    <option value="vua">V·ª´a</option>
    <option value="nhieu">Nhi·ªÅu</option>
  </select>

  <button onclick="calcViet()">Xem Calo</button>
</div>

<h2 id="result" style="text-align:center"></h2>

<script>
const vietData = {
  main: {
    "Ph·ªü b√≤": { it:380, vua:450, nhieu:520 },
    "Ph·ªü g√†": { it:350, vua:420, nhieu:500 },
    "B√∫n ƒë·∫≠u m·∫Øm t√¥m": { it:450, vua:550, nhieu:650 },
    "B√∫n ch·∫£": { it:480, vua:560, nhieu:650 },
    "C∆°m t·∫•m": { it:500, vua:600, nhieu:700 },
    "C∆°m g√† x·ªëi m·ª°": { it:550, vua:650, nhieu:750 },
    "M√¨ Qu·∫£ng": { it:430, vua:500, nhieu:580 }
  },
  veg: {
    "Rau lu·ªôc": { it:50, vua:80, nhieu:120 },
    "Salad rau": { it:70, vua:120, nhieu:180 },
    "B√¥ng c·∫£i xanh": { it:40, vua:70, nhieu:100 },
    "C√† r·ªët": { it:35, vua:60, nhieu:90 },
    "Chu·ªëi": { it:90, vua:120, nhieu:150 },
    "T√°o": { it:60, vua:90, nhieu:120 }
  },
  seed: {
    "H·∫°t ƒëi·ªÅu": { it:150, vua:200, nhieu:250 },
    "H·∫°nh nh√¢n": { it:140, vua:190, nhieu:240 },
    "√ìc ch√≥": { it:160, vua:210, nhieu:260 },
    "Y·∫øn m·∫°ch": { it:120, vua:180, nhieu:240 },
    "ƒê·∫≠u ph·ªông": { it:150, vua:200, nhieu:260 }
  }
};

function showTab(tab){
  document.getElementById("fast").style.display = tab==="fast"?"block":"none";
  document.getElementById("viet").style.display = tab==="viet"?"block":"none";
  document.getElementById("result").innerText="";
}

function loadVietFood(){
  let group = document.getElementById("vietGroup").value;
  let foodSelect = document.getElementById("vietFood");
  foodSelect.innerHTML = "";
  for(let food in vietData[group]){
    let opt = document.createElement("option");
    opt.value = food;
    opt.textContent = food;
    foodSelect.appendChild(opt);
  }
}

function calcFast(){
  document.getElementById("result").innerText =
    document.getElementById("fastFood").value + " kcal";
}

function calcViet(){
  let group = vietGroup.value;
  let food = vietFood.value;
  let portion = portionSelect.value;
  document.getElementById("result").innerText =
    vietData[group][food][portion] + " kcal";
}

const vietGroup = document.getElementById("vietGroup");
const vietFood = document.getElementById("vietFood");
const portionSelect = document.getElementById("portion");
loadVietFood();

if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}
</script>

</body>
  </html>
